# Review PRD - PRD 审查与风险评估

## 命令用途

审查 PRD 的执行风险和不足之处，确保需求的可执行性和完整性。

**核心原则：**

- 风险识别优先：技术/业务/执行三维度
- 完整性检查：按需求类型（前端/后端/全栈）检查必要信息
- 可执行性验证：评估是否可直接指导开发
- 改进建议：提供具体、可操作的改进方案

## 使用方式

```
/review-prd <PRD文档路径>
```

---

## 执行流程

### 第一步：理解 PRD 内容

- 识别需求类型和复杂度
- 理解技术方案、API 规范、UI 规范（如适用）
- 查看依赖关系和验收清单

### 第二步：风险评估

**技术风险：**

- 技术可行性（方案明确、依赖稳定、性能限制）
- 架构风险（兼容性、数据模型、API 设计）
- 依赖风险（外部依赖、版本兼容）

**业务风险：**

- 需求明确性（目标清晰、标准可量化、用户故事完整）
- 边界情况（异常处理、错误处理、降级方案）
- 影响范围（现有功能影响、用户体验、数据迁移）

**执行风险：**

- 信息完整性（API/UI 规范、数据库变更）
- 可测试性（验收标准可测、测试场景明确）
- 时间风险（复杂度评估、工作量估算）

### 第三步：需求完整性检查

**前端需求：**

- UI 交互规范（三态规则、状态流转、加载反馈）
- 用户旅程（入口、流程、反馈）
- 数据需求（API 字段满足 UI 展示）

**后端需求：**

- API 规范（请求/响应/错误码、权限配额）
- 数据模型（表结构、字段约束、索引优化）
- 业务逻辑（算法说明、边界处理、异常机制）

**全栈需求：**

- 同时满足前后端检查项
- 前后端协作（数据流、状态同步、缓存更新）
- 集成点（依赖 PRD 交互点、数据变更通知）

### 第四步：规范符合度检查

- 模板选择（是否按需求类型选择正确模板）
- 命名规范（API 端点、字段命名符合项目约定）
- 架构模式（Hono API 模式、依赖注入原则）
- 类型安全（使用类型定义、避免 `any`）

### 第五步：生成审查报告

---

## 审查报告结构

```markdown
# PRD 审查报告：{PRD 名称}

## 1. 执行风险总结

- 技术风险（高/中/低）
- 业务风险（高/中/低）
- 执行风险（高/中/低）

## 2. 需求完整性分析

- 缺失信息清单（高/中/低优先级）
- 信息模糊点
- 规范符合度

## 3. 不足之处与改进建议

- 功能/技术/可测试性层面的问题
- 具体改进建议

## 4. 总体评估

- 可执行性评分（1-5）
- 是否可以开始开发
- 优先级建议

## 5. 具体改进建议

- 必须补充（阻塞开发）
- 强烈建议补充（提升质量）
- 可选补充（锦上添花）
```

---

## 审查要点速查表

**技术风险：** 技术方案明确、API 规范完整、数据模型合理、无依赖风险

**业务风险：** 业务目标清晰、成功标准可量化、边界情况明确、错误处理充分

**执行风险：**

- 前端：UI 三态规则明确
- 后端：API 字段满足前端需求
- 全栈：数据流清晰
- 验收清单可测试

**规范符合：** 模板选择正确、命名规范一致、架构模式符合项目规范

**常见风险点：**

1. API 规范缺失（错误码、权限说明）
2. UI 规范不完整（缺少三态规则）
3. 边界条件遗漏（异常情况、降级方案）
4. 数据流不清晰（前后端交互点不明确）
5. 测试不可验证（验收标准模糊）
6. 依赖关系不明确（与其他 PRD 的交互点）

---

## 输出要求

报告应包含：风险总结、缺失信息清单、改进建议、可执行性评估、具体修改建议

## 注意事项

1. 客观评估，不臆测
2. 区分阻塞性问题和建议性问题
3. 提供可操作的改进建议
4. 基于项目规范评估
5. 关注可执行性，非完美度
