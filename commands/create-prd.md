# Create PRD - 产品需求文档生成器

## 命令用途

根据用户提供的需求描述，生成结构完整的产品需求文档（PRD）。

## 使用方式

```
/create-prd <需求描述>
```

示例：

```
/create-prd 实现用户认证功能，支持 OAuth2 和手机验证码登录，需要与现有用户系统集成
```

---

## 执行流程

### 第一步：分析项目上下文

**在理解用户需求前，先主动获取项目背景信息：**

1. **分析项目结构**

   - 查看项目的 `package.json`、`README.md` 等文件，了解项目类型、技术栈
   - 浏览项目目录结构，理解现有模块划分

2. **分析现有功能**

   - 查看相关代码文件，理解现有实现方式和设计模式
   - 识别与新需求相关的现有模块、组件、接口

3. **识别约束与依赖**

   - 了解项目使用的框架、库版本
   - 发现与新需求可能产生交互的现有功能

4. **技术可行性初判**
   - 基于项目现状，初步判断需求的技术可行性
   - 识别可能需要引入的新依赖或技术方案

### 第二步：评估需求完整性

基于项目上下文，评估用户需求描述是否充分：

**必要信息（缺失则必须询问）：**

- 功能目标：要解决什么问题？
- 目标用户：谁会使用这个功能？
- 核心场景：用户的主要使用流程是什么？

**重要信息（模糊则建议澄清）：**

- 成功标准：如何判断功能做好了？
- 优先级：哪些是必须的，哪些是可选的？
- 特殊约束：有哪些业务上的限制或特殊要求？

**可选信息（缺失可用合理默认值）：**

- 风险评估
- 边界情况处理

### 第三步：补充信息（仅在必要时）

如果需求描述已足够完整，直接进入下一步。

如果信息不足，**一次性**列出所有需要补充的问题，并结合项目上下文给出合理的默认建议。

### 第四步：生成 PRD 文档

信息充分后，按照下方模板生成完整 PRD：

- 已知信息直接填入
- 结合项目上下文补充技术可行性说明
- 确实缺失的标注为 `[待补充]`

### 第五步：输出与确认

生成后：

1. 输出完整 PRD 文档
2. 列出标注为 `[待补充]` 的部分（如有）
3. 询问是否需要调整或补充

---

## PRD 文档模板

```markdown
# PRD: {功能名称}

| 属性     | 值       |
| -------- | -------- |
| 版本     | 1.0      |
| 状态     | 草稿     |
| 创建日期 | {DATE}   |
| 作者     | [待补充] |

---

## 1. 概述

### 1.1 背景

[业务背景和动机]

### 1.2 问题描述

[要解决的问题]

### 1.3 解决方案概述

[方案整体思路]

---

## 2. 目标与指标

### 2.1 目标

| 编号 | 目标     | 优先级   |
| ---- | -------- | -------- |
| G1   | [目标 1] | 必须实现 |
| G2   | [目标 2] | 应该实现 |

### 2.2 非目标

- [本次不做的事情]

### 2.3 成功标准

| 标准     | 描述   | 验证方式 |
| -------- | ------ | -------- |
| [标准 1] | [描述] | [方式]   |

---

## 3. 用户分析

### 3.1 目标用户

| 用户类型 | 特征   | 核心需求 |
| -------- | ------ | -------- |
| [用户 1] | [描述] | [需求]   |

### 3.2 用户旅程

1. **入口** → [用户从哪里开始]
2. **操作** → [用户执行什么动作]
3. **结果** → [用户得到什么反馈]

---

## 4. 用户故事

### US-1: {故事标题}

**作为** [用户类型]
**我想要** [执行的操作]
**以便** [获得的价值]

**验收标准：**

- [ ] [标准 1]
- [ ] [标准 2]

**优先级：** [必须/应该/可以]

---

## 5. 功能需求

| 编号 | 需求描述 | 优先级   | 备注 |
| ---- | -------- | -------- | ---- |
| F1   | [需求 1] | 必须实现 |      |
| F2   | [需求 2] | 应该实现 |      |

### F1: {功能名称}

- **描述：** [详细描述]
- **输入：** [输入内容]
- **输出：** [输出内容]
- **异常处理：** [边界情况]

---

## 6. 技术可行性

### 6.1 现有系统分析

[基于项目上下文，说明与现有系统的关系]

- 相关现有模块：[列出相关的现有代码模块]
- 可复用组件：[可以复用的现有组件/服务]
- 需要修改的部分：[需要调整的现有功能]

### 6.2 技术方案概述

[简要说明实现思路，确认技术上可行]

### 6.3 依赖与集成

| 依赖项   | 类型      | 说明       |
| -------- | --------- | ---------- |
| [依赖 1] | 现有/新增 | [影响说明] |

---

## 7. 风险评估

| 风险     | 可能性   | 影响     | 应对措施 |
| -------- | -------- | -------- | -------- |
| [风险 1] | 高/中/低 | 高/中/低 | [措施]   |

---

## 8. 附录

### 术语表

| 术语     | 定义   |
| -------- | ------ |
| [术语 1] | [定义] |

### 变更记录

| 版本 | 日期   | 变更内容 |
| ---- | ------ | -------- |
| 1.0  | {DATE} | 初稿     |
```

---

## 可选扩展

如果用户明确要求输出技术指标，可在 PRD 中增加以下章节：

```markdown
## [可选] 技术指标

### 性能要求

| 指标     | 目标值             |
| -------- | ------------------ |
| 响应时间 | [根据业务需求填写] |
| 并发支持 | [根据业务需求填写] |

### 可用性要求

| 指标 | 目标值             |
| ---- | ------------------ |
| SLA  | [根据业务需求填写] |

### 安全要求

| 项目     | 要求               |
| -------- | ------------------ |
| 认证方式 | [根据业务需求填写] |
| 数据保护 | [根据业务需求填写] |
```

---

## 输出位置

建议保存到：`/docs/prd/{功能名称}-prd.md`

## 语言规范

- 文档内容使用中文
- 技术术语、代码、变量名保留英文
